<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Quiz - Lesson 5 & 6</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        /* Exit button styles */
        .exit-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: all 0.3s ease;
            display: none;
        }

        .exit-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .exit-btn.show {
            display: block;
        }

        /* Confirmation dialog styles */
        .confirmation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
        }

        .confirmation-overlay.show {
            display: flex;
        }

        .confirmation-dialog {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            text-align: center;
            animation: slideIn 0.3s ease-out;
        }

        .confirmation-dialog h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .confirmation-dialog p {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .confirmation-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .confirm-btn, .cancel-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .confirm-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .confirm-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .cancel-btn {
            background: #f0f0f0;
            color: #666;
        }

        .cancel-btn:hover {
            background: #e0e0e0;
        }

        /* Lesson selector styles */
        .lesson-selector {
            background: #f8f9fa;
            padding: 25px;
            text-align: center;
            border-bottom: 2px solid #e0e0e0;
        }

        .lesson-selector h2 {
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .lesson-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .lesson-btn {
            padding: 20px 40px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
        }

        .lesson-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .lesson-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .lesson-btn h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .lesson-btn p {
            font-size: 0.95em;
            opacity: 0.9;
        }

        /* Hide lesson content by default */
        .lesson-content {
            display: none;
        }

        .lesson-content.active {
            display: block;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            background: #f8f9fa;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 10px 20px;
            border: none;
            background: white;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .sound-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1em;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .sound-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .content {
            padding: 30px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .grammar-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .grammar-box h3 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .grammar-box ul {
            list-style: none;
            padding-left: 0;
        }

        .grammar-box li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .example {
            background: #fff9e6;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
        }

        .question {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .question:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .question-text {
            flex: 1;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .input-container {
            margin: 15px 0;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        input[type="text"].correct {
            border-color: #4caf50;
            background: #f1f8e9;
        }

        input[type="text"].incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .check-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 10px;
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .show-answer-btn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .show-answer-btn:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.3);
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 200px;
            }
        }

        .feedback.correct {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            color: #2e7d32;
        }

        .feedback.incorrect {
            background: #ffebee;
            border-left: 4px solid #f44336;
            color: #c62828;
        }

        .feedback.hint {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            color: #e65100;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .score-display {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            margin: 20px 0;
        }

        .score-display h3 {
            color: #764ba2;
            margin-bottom: 10px;
        }

        .score-display .score {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .reset-btn {
            background: #9c27b0;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
        }

        .reset-btn:hover {
            background: #7b1fa2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .section-nav {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            display: flex;
            gap: 10px;
            justify-content: space-between;
        }

        .section-nav button {
            font: inherit;
            border: 1px solid #cfd4dc;
            padding: 12px 24px;
            border-radius: 10px;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .section-nav .primary {
            background: #1a73e8;
            color: #fff;
            border-color: #1a73e8;
        }

        .section-nav .primary:hover {
            background: #1557b0;
            transform: translateY(-2px);
        }

        .section-nav .ghost {
            background: #f6f7fb;
        }

        .section-nav .ghost:hover {
            background: #e8eaed;
            transform: translateY(-2px);
        }

        #end-screen {
            text-align: center;
            padding: 60px 20px;
        }

        #end-screen h2 {
            font-size: 2.5em;
            color: #764ba2;
            margin-bottom: 20px;
        }

        #end-screen .final-score {
            font-size: 1.8em;
            color: #667eea;
            margin: 20px 0;
            font-weight: bold;
        }

        #end-screen .message {
            color: #666;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .end-sparkles {
            position: relative;
            width: 100%;
            height: 160px;
            overflow: visible;
            margin: 20px 0;
        }

        .end-sparkles i {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 2px;
            background: currentColor;
            opacity: 0.8;
            animation: pop 1600ms ease-in-out infinite;
        }

        @keyframes pop {
            0% { transform: translateY(0) scale(0.9); opacity: 0.9; }
            60% { opacity: 1; }
            100% { transform: translateY(-140px) scale(1.1) rotate(180deg); opacity: 0; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }

            .navigation {
                padding: 15px;
            }

            .nav-btn {
                padding: 8px 15px;
                font-size: 0.9em;
            }

            .content {
                padding: 20px;
            }

            .sound-toggle {
                top: 10px;
                right: 10px;
                padding: 8px 15px;
                font-size: 0.9em;
            }

            .section-nav {
                flex-direction: column;
            }

            .section-nav button {
                width: 100%;
            }

            .lesson-buttons {
                flex-direction: column;
                align-items: center;
            }

            .lesson-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation: none !important;
                transition: none !important;
            }
            .end-sparkles {
                display: none;
            }
        }
    </style>
</head>
<body>
    <button id="soundToggle" class="sound-toggle" onclick="toggleSound()">ğŸ”Š ì‚¬ìš´ë“œ: ì¼œì§</button>

    <div class="container">
        <div class="header">
            <button class="exit-btn" id="exitBtn" onclick="showExitConfirmation()">â† ë‚˜ê°€ê¸°</button>
            <h1 id="headerTitle">Grammar Quiz</h1>
            <p id="headerSubtitle">Lesson 5 & Lesson 6</p>
        </div>

        <!-- Confirmation Dialog -->
        <div class="confirmation-overlay" id="confirmationOverlay">
            <div class="confirmation-dialog">
                <h3>í€´ì¦ˆë¥¼ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h3>
                <p>ì§„í–‰ ì¤‘ì¸ í€´ì¦ˆë¥¼ ì¢…ë£Œí•˜ê³  ë ˆìŠ¨ ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.<br>í˜„ì¬ê¹Œì§€ì˜ ë‹µì•ˆì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
                <div class="confirmation-buttons">
                    <button class="confirm-btn" onclick="confirmExit()">ì¢…ë£Œí•˜ê¸°</button>
                    <button class="cancel-btn" onclick="cancelExit()">ê³„ì†í•˜ê¸°</button>
                </div>
            </div>
        </div>

        <!-- Lesson Selector -->
        <div class="lesson-selector" id="lessonSelector">
            <h2>í•™ìŠµí•  ê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
            <div class="lesson-buttons">
                <button class="lesson-btn" onclick="selectLesson('lesson5')">
                    <h3>Lesson 5</h3>
                    <p>ê°€ì •ë²• ê³¼ê±° & ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬</p>
                </button>
                <button class="lesson-btn" onclick="selectLesson('lesson6')">
                    <h3>Lesson 6</h3>
                    <p>ëª©ì ì„ ë‚˜íƒ€ë‚´ëŠ” so that & enough to ë¶€ì •ì‚¬</p>
                </button>
            </div>
        </div>

        <!-- Lesson 5 Content -->
        <div class="lesson-content" id="lesson5Content">
            <div class="navigation">
                <button class="nav-btn active" onclick="showSection(this, 'L5-grammar')">ë¬¸ë²• ì •ë¦¬</button>
                <button class="nav-btn" onclick="showSection(this, 'L5-checkup')">Check Up</button>
                <button class="nav-btn" onclick="showSection(this, 'L5-level1')">Level 1</button>
                <button class="nav-btn" onclick="showSection(this, 'L5-level2')">Level 2</button>
                <button class="nav-btn" onclick="showSection(this, 'L5-score')">ì ìˆ˜ í™•ì¸</button>
            </div>

            <div class="content">
                <!-- L5 Grammar Section -->
                <div id="L5-grammar" class="section active">
                    <div class="grammar-box">
                        <h3>A. ê°€ì •ë²• ê³¼ê±° (Past Subjunctive)</h3>
                        <ul>
                            <li><strong>í˜•íƒœ:</strong> If + ì£¼ì–´ + were/ë™ì‚¬ì˜ ê³¼ê±°í˜• ~, ì£¼ì–´ + ì¡°ë™ì‚¬ì˜ ê³¼ê±°í˜•(would/should/could/might) + ë™ì‚¬ì›í˜•</li>
                            <li><strong>ì˜ë¯¸:</strong> "ë§Œì•½ ~í•œë‹¤ë©´, ...í•  í…ë°" - í˜„ì¬ ì‚¬ì‹¤ê³¼ ë°˜ëŒ€ë˜ëŠ” ê°€ì •ì„ ë‚˜íƒ€ëƒ„</li>
                        </ul>
                        <div class="example">
                            <strong>ì˜ˆë¬¸:</strong><br>
                            If I were a bird, I would fly. (ë‚´ê°€ ìƒˆë¼ë©´, ë‚˜ëŠ” ë‚ ì•„ì˜¤ë¥¼ í…ë°.)<br>
                            If she had a flying carpet, she could travel all over the world. (ê·¸ë…€ê°€ ë‚ ì•„ë‹¤ë‹ˆëŠ” ì–‘íƒ„ìë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´, ì „ ì„¸ê³„ë¥¼ ì—¬í–‰í•  ìˆ˜ ìˆì„ í…ë°.)
                        </div>
                    </div>

                    <div class="grammar-box">
                        <h3>B. ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬ (Question Word + to-infinitive)</h3>
                        <ul>
                            <li><strong>when + to + ë™ì‚¬ì›í˜•:</strong> ì–¸ì œ ~í• ì§€</li>
                            <li><strong>how + to + ë™ì‚¬ì›í˜•:</strong> ì–´ë–»ê²Œ ~í• ì§€, ~í•˜ëŠ” ë°©ë²•</li>
                            <li><strong>where + to + ë™ì‚¬ì›í˜•:</strong> ì–´ë””ì„œ ~í• ì§€</li>
                            <li><strong>what + to + ë™ì‚¬ì›í˜•:</strong> ë¬´ì—‡ì„ ~í• ì§€</li>
                        </ul>
                        <div class="example">
                            <strong>ì˜ˆë¬¸:</strong><br>
                            We didn't know how to read music. (ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì•…ë³´ë¥¼ ì½ëŠ”ì§€ ëª°ëë‹¤.)<br>
                            I told him when to feed the dog. (ë‚˜ëŠ” ì–¸ì œ ê°œì—ê²Œ ë¨¹ì´ë¥¼ ì¤„ì§€ ê·¸ì—ê²Œ ë§í–ˆë‹¤.)
                        </div>
                    </div>
                </div>

                <!-- L5 Check Up Section -->
                <div id="L5-checkup" class="section">
                    <h2>Check Up - ê¸°ë³¸ ë¬¸ë²• í™•ì¸</h2>

                    <h3>A. ê°€ì •ë²• ê³¼ê±° - ë™ì‚¬ í˜•íƒœ</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">If it _____, I would put on the boots.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-a-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-a-1', 'rained')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-a-1', 'rained')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-a-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">If I _____ a magic lamp, I would make three wishes.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-a-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-a-2', 'had')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-a-2', 'had')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-a-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">If he _____ a policeman, he would help people.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-a-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-a-3', 'were')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-a-3', 'were')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-a-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">I don't know _____ _____ _____ next. (ë¬´ì—‡ì„ í•´ì•¼ í• ì§€)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-b-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-b-1', 'what to do')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-b-1', 'what to do')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">Have you decided _____ _____ _____ for your vacation? (ì–´ë””ë¡œ ê°€ì•¼ í• ì§€)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-b-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-b-2', 'where to go')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-b-2', 'where to go')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">He taught us _____ _____ _____ the machine. (ì–´ë–»ê²Œ ì‚¬ìš©í•´ì•¼ í• ì§€)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-checkup-b-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-checkup-b-3', 'how to use')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-checkup-b-3', 'how to use')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-checkup-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L5 Level 1 Section -->
                <div id="L5-level1" class="section">
                    <h2>Level 1 - ë¬¸ì¥ ì™„ì„±í•˜ê¸°</h2>

                    <h3>A. ê°€ì •ë²• ê³¼ê±° ë¬¸ì¥ ì™„ì„±</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">ë§Œì•½ ë‚´ê°€ ì™•ì´ë¼ë©´, ë‚˜ëŠ” ì‚¬ëŒë“¤ì—ê²Œ ì„ ë¬¼ì„ ì¤„ í…ë°.<br>
                            â†’ _____ I _____ a king, I _____ _____ people presents.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-a-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: If, were, would give)">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level1-a-1', 'If, were, would give', true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-a-1', 'If, were, would give')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-a-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">ë§Œì•½ ëˆˆì´ ë§ì´ ë‚´ë¦°ë‹¤ë©´, ë‚˜ëŠ” ì‚°ì—ì„œ ìŠ¤í‚¤ë¥¼ íƒˆ í…ë°.<br>
                            â†’ _____ it _____ a lot, I _____ _____ in the mountains.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-a-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level1-a-2', 'If, snowed, would ski', true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-a-2', 'If, snowed, would ski')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-a-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">ë§Œì•½ ê·¸ê°€ ì—´ì‹¬íˆ ê³µë¶€í•œë‹¤ë©´, ì‹œí—˜ì— í•©ê²©í•  ìˆ˜ ìˆì„ í…ë°.<br>
                            â†’ _____ he _____ hard, he _____ _____ the exam.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-a-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level1-a-3', 'If, studied, could pass', true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-a-3', 'If, studied, could pass')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-a-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">ë§Œì•½ ë‚´ê°€ ìŠˆí¼ë§¨ì´ë¼ë©´, ë‚˜ëŠ” ìœ„í—˜ì— ì²˜í•œ ì‚¬ëŒë“¤ì„ êµ¬í•  í…ë°.<br>
                            â†’ _____ I _____ Superman, I _____ _____ people in danger.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-a-4" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level1-a-4', 'If, were, would save', true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-a-4', 'If, were, would save')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-a-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">ë§Œì•½ ë‚´ê°€ ë” ì¢‹ì€ ì¹´ë©”ë¼ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´, ë‚˜ëŠ” ë” ì¢‹ì€ ì‚¬ì§„ì„ ì°ì„ ìˆ˜ ìˆì„ í…ë°.<br>
                            â†’ _____ I _____ a better camera, I _____ _____ better photos.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-a-5" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level1-a-5', 'If, had, could take', true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-a-5', 'If, had, could take')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-a-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬ ë¬¸ì¥ ì™„ì„±</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">What should I do next? Dad, please tell me _____. (do)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-b-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level1-b-1', ['what to do', 'what I should do'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-b-1', 'what to do / what I should do')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">He's still in Seoul. He hasn't decided _____ for America. (leave)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-b-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level1-b-2', ['when to leave', 'when he should leave'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-b-2', 'when to leave / when he should leave')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">The manager explained to me _____ the washing machine. (use)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-b-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level1-b-3', ['how to use', 'how I should use'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-b-3', 'how to use / how I should use')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">I can't park here. Could you tell me _____? (park)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-b-4" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level1-b-4', ['where to park', 'where I should park'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-b-4', 'where to park / where I should park')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-b-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">I like T-shirts in this store. I'm not sure _____. (buy)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level1-b-5" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level1-b-5', ['what to buy', 'what I should buy'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level1-b-5', 'what to buy / what I should buy')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level1-b-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L5 Level 2 Section -->
                <div id="L5-level2" class="section">
                    <h2>Level 2 - ê°€ì •ë²• ë¬¸ì¥ ì‘ì„± & ë¬¸ì¥ ë³€í™˜</h2>

                    <h3>A. ê°€ì •ë²• ë¬¸ì¥ ì‘ì„±</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">ê·¸ê°€ í”¼ê³¤í•˜ì§€ ì•Šë‹¤ë©´, ë‚˜ì™€ í•¨ê»˜ ì‡¼í•‘ì„ ê°ˆ ìˆ˜ ìˆì„ í…ë°.<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-a-1" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level2-a-1', ['If he weren\'t tired, he could go shopping with me.', 'If he were not tired, he could go shopping with me.'], true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-a-1', 'If he weren\'t tired, he could go shopping with me. / If he were not tired, he could go shopping with me.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-a-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">ë‚´ê°€ ìœ ëª…í•˜ë‹¤ë©´, ë‚´ê°€ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ì˜í™”ë°°ìš°ì™€ ì‚¬ì§„ì„ ì°ì„ í…ë°.<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-a-2" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level2-a-2', ['If I were famous, I would take photos with my favorite movie star.', 'If I were famous, I would take photos with my favorite actor.', 'If I were famous, I would take photos with my favorite actress.', 'If I were famous, I would take pictures with my favorite movie star.', 'If I were famous, I would take pictures with my favorite actor.', 'If I were famous, I would take pictures with my favorite actress.'], true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-a-2', 'If I were famous, I would take photos with my favorite movie star. (ì •ë‹µ ì˜ˆì‹œ. photos ëŒ€ì‹  pictures, movie star ëŒ€ì‹  actor ë˜ëŠ” actress ì‚¬ìš© ê°€ëŠ¥)')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-a-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">ê·¸ë…€ê°€ ì–´ë¥¸ì´ë¼ë©´, ì „ ì„¸ê³„ë¥¼ ì—¬í–‰í•  í…ë°.<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-a-3" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L5-level2-a-3', ['If she were an adult, she would travel all around the world.', 'If she were an adult, she would travel all over the world.'], true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-a-3', 'If she were an adult, she would travel all around the world. / If she were an adult, she would travel all over the world.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-a-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">ë‚´ê°€ íƒ€ì„ë¨¸ì‹ ì´ ìˆë‹¤ë©´, ì„¸ì¢…ëŒ€ì™•ì„ ë§Œë‚˜ëŸ¬ ê°ˆ ìˆ˜ ìˆì„ í…ë°.<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-a-4" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-a-4', 'If I had a time machine, I could go to meet King Sejong.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-a-4', 'If I had a time machine, I could go to meet King Sejong.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-a-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">ë‚´ê°€ í•œêµ­ì˜ ëŒ€í†µë ¹ì´ë¼ë©´, ìš°ë¦¬ë‚˜ë¼ë¥¼ ë” ì•„ë¦„ë‹µê²Œ ë§Œë“¤ í…ë°.<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-a-5" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-a-5', 'If I were the president of Korea, I would make my country more beautiful.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-a-5', 'If I were the president of Korea, I would make my country more beautiful.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-a-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. ë¬¸ì¥ ë³€í™˜ (ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬)</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">I don't know what I should do.<br>
                            = I don't know _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-b-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-b-1', 'what to do')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-b-1', 'what to do')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">They didn't decide when they should leave for the station.<br>
                            = They didn't decide _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-b-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-b-2', 'when to leave for the station')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-b-2', 'when to leave for the station')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">Could you tell me how I should get to City Hall?<br>
                            = Could you tell me _____?</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-b-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-b-3', 'how to get to City Hall')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-b-3', 'how to get to City Hall')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">He asked when he should take out the eggs.<br>
                            = He asked _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-b-4" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-b-4', 'when to take out the eggs')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-b-4', 'when to take out the eggs')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-b-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">Do you want to know how you should make friends?<br>
                            = Do you want to know _____?</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L5-level2-b-5" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L5-level2-b-5', 'how to make friends')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L5-level2-b-5', 'how to make friends')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L5-level2-b-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L5 Score Section -->
                <div id="L5-score" class="section">
                    <h2>Lesson 5 í•™ìŠµ ì§„í–‰ ìƒí™©</h2>
                    <div class="score-display">
                        <h3>í˜„ì¬ ì ìˆ˜</h3>
                        <div class="score">
                            <span id="L5-correct-count">0</span> / <span id="L5-total-count">0</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="L5-progress-fill"></div>
                        </div>
                        <p id="L5-score-percentage">ì •ë‹µë¥ : 0%</p>
                    </div>
                    <button class="reset-btn" onclick="resetQuiz('L5')">Lesson 5 í€´ì¦ˆ ì´ˆê¸°í™”</button>
                </div>
            </div>
        </div>

        <!-- Lesson 6 Content -->
        <div class="lesson-content" id="lesson6Content">
            <div class="navigation">
                <button class="nav-btn active" onclick="showSection(this, 'L6-grammar')">ë¬¸ë²• ì •ë¦¬</button>
                <button class="nav-btn" onclick="showSection(this, 'L6-checkup')">Check Up</button>
                <button class="nav-btn" onclick="showSection(this, 'L6-level1')">Level 1</button>
                <button class="nav-btn" onclick="showSection(this, 'L6-level2')">Level 2</button>
                <button class="nav-btn" onclick="showSection(this, 'L6-score')">ì ìˆ˜ í™•ì¸</button>
            </div>

            <div class="content">
                <!-- L6 Grammar Section -->
                <div id="L6-grammar" class="section active">
                    <div class="grammar-box">
                        <h3>A. ëª©ì ì„ ë‚˜íƒ€ë‚´ëŠ” so that</h3>
                        <ul>
                            <li><strong>í˜•íƒœ:</strong> ì£¼ì–´ + ë™ì‚¬ + so that + ì£¼ì–´ + can/could/may/might + ë™ì‚¬ì›í˜•</li>
                            <li><strong>ì˜ë¯¸:</strong> "~í•˜ê¸° ìœ„í•´ì„œ, ~í•˜ë„ë¡" - ì–´ë–¤ í–‰ë™ì˜ ëª©ì ì„ ë‚˜íƒ€ëƒ„</li>
                            <li><strong>ë°”ê¿” ì“°ê¸°:</strong> (so as) to + ë™ì‚¬ì›í˜•, in order to + ë™ì‚¬ì›í˜•, in order that + ì£¼ì–´ + can/may + ë™ì‚¬ì›í˜•</li>
                        </ul>
                        <div class="example">
                            <strong>ì˜ˆë¬¸:</strong><br>
                            He spoke loudly so that everyone could hear him. (ê·¸ëŠ” ëª¨ë“  ì‚¬ëŒë“¤ì´ ë“¤ì„ ìˆ˜ ìˆë„ë¡ í° ì†Œë¦¬ë¡œ ë§í–ˆë‹¤.)<br>
                            Emily went to bed early so that she could get up early. (EmilyëŠ” ì¼ì° ì¼ì–´ë‚  ìˆ˜ ìˆë„ë¡ ì¼ì° ì ìë¦¬ì— ë“¤ì—ˆë‹¤.)<br>
                            She jogs every morning so that she can stay healthy. (ê·¸ë…€ëŠ” ê±´ê°•ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë§¤ì¼ ì•„ì¹¨ ì¡°ê¹…í•œë‹¤.)
                        </div>
                    </div>

                    <div class="grammar-box">
                        <h3>B. í˜•ìš©ì‚¬/ë¶€ì‚¬ + enough to + ë™ì‚¬ì›í˜•</h3>
                        <ul>
                            <li><strong>í˜•íƒœ:</strong> ì£¼ì–´ + beë™ì‚¬ + í˜•ìš©ì‚¬ + enough to + ë™ì‚¬ì›í˜•</li>
                            <li><strong>ì˜ë¯¸:</strong> "~í•˜ê¸°ì— ì¶©ë¶„íˆ ...í•œ/í•˜ê²Œ" - ì–´ë–¤ ì¼ì„ í•˜ê¸°ì— ì¶©ë¶„í•œ ì •ë„ë¥¼ ë‚˜íƒ€ëƒ„</li>
                            <li><strong>ì£¼ì˜:</strong> enoughëŠ” í˜•ìš©ì‚¬/ë¶€ì‚¬ ë’¤ì— ìœ„ì¹˜í•¨ (â†” tooëŠ” ì•ì— ìœ„ì¹˜)</li>
                        </ul>
                        <div class="example">
                            <strong>ì˜ˆë¬¸:</strong><br>
                            Eric is smart enough to solve difficult math problems. (Ericì€ ì–´ë ¤ìš´ ìˆ˜í•™ ë¬¸ì œë¥¼ í’€ ë§Œí¼ ì¶©ë¶„íˆ ë˜‘ë˜‘í•˜ë‹¤.)<br>
                            The boy is not tall enough to reach the top shelf. (ê·¸ ì†Œë…„ì€ ì„ ë°˜ì˜ ë§¨ ìœ„ì— ë‹¿ì„ ë§Œí¼ ì¶©ë¶„íˆ í‚¤ê°€ í¬ì§€ ì•Šë‹¤.)<br>
                            The box is big enough to carry 20 books. (ê·¸ ìƒìëŠ” 20ê¶Œì˜ ì±…ì„ ë‹´ì„ ë§Œí¼ ì¶©ë¶„íˆ í¬ë‹¤.)<br>
                            <br>
                            cf. too + í˜•ìš©ì‚¬/ë¶€ì‚¬ + to + ë™ì‚¬ì›í˜•: "ë„ˆë¬´ ~í•´ì„œ ...í•  ìˆ˜ ì—†ë‹¤"<br>
                            The tea is too hot to drink. (ê·¸ ì°¨ëŠ” ë§ˆì‹œê¸°ì—ëŠ” ë„ˆë¬´ ëœ¨ê²ë‹¤.)
                        </div>
                    </div>
                </div>

                <!-- L6 Check Up Section -->
                <div id="L6-checkup" class="section">
                    <h2>Check Up - ê¸°ë³¸ ë¬¸ë²• í™•ì¸</h2>

                    <h3>A. so that ëª©ì ì ˆ - ì˜ë¯¸ íŒŒì•…</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">John saved money so that he could buy a new bike.<br>ë°‘ì¤„ ì¹œ ë¶€ë¶„ì˜ ì˜ë¯¸: _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-a-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L6-checkup-a-1', ['ê·¸ëŠ” ìƒˆ ìì „ê±°ë¥¼ ì‚¬ê¸° ìœ„í•´ì„œ', 'ìƒˆ ìì „ê±°ë¥¼ ì‚¬ê¸° ìœ„í•´ì„œ', 'ìƒˆ ìì „ê±°ë¥¼ ì‚¬ê¸° ìœ„í•´', 'ê·¸ëŠ” ìƒˆ ìì „ê±°ë¥¼ ì‚¬ê¸° ìœ„í•´'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-a-1', 'ê·¸ëŠ” ìƒˆ ìì „ê±°ë¥¼ ì‚¬ê¸° ìœ„í•´ì„œ')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-a-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">She practices hard in order to prepare for the contest.<br>ë°‘ì¤„ ì¹œ ë¶€ë¶„ì˜ ì˜ë¯¸: _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-a-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L6-checkup-a-2', ['ëŒ€íšŒë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´ì„œ', 'ëŒ€íšŒë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´', 'ì½˜í…ŒìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´ì„œ', 'ì½˜í…ŒìŠ¤íŠ¸ë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-a-2', 'ëŒ€íšŒë¥¼ ì¤€ë¹„í•˜ê¸° ìœ„í•´ì„œ')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-a-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">I went to bed early so that I could catch the first train.<br>ë°‘ì¤„ ì¹œ ë¶€ë¶„ì˜ ì˜ë¯¸: _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-a-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L6-checkup-a-3', ['ë‚˜ëŠ” ì²« ê¸°ì°¨ë¥¼ íƒ€ê¸° ìœ„í•´ì„œ', 'ì²« ê¸°ì°¨ë¥¼ íƒ€ê¸° ìœ„í•´ì„œ', 'ì²« ê¸°ì°¨ë¥¼ íƒ€ê¸° ìœ„í•´', 'ë‚˜ëŠ” ì²« ê¸°ì°¨ë¥¼ íƒ€ê¸° ìœ„í•´'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-a-3', 'ë‚˜ëŠ” ì²« ê¸°ì°¨ë¥¼ íƒ€ê¸° ìœ„í•´ì„œ')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-a-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. enough to êµ¬ë¬¸ - ì•Œë§ì€ í˜•íƒœ ì„ íƒ</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">We're old (too / enough) to look after ourselves.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-b-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-checkup-b-1', 'enough')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-b-1', 'enough')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">That box isn't strong (so / enough) to sit on.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-b-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-checkup-b-2', 'enough')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-b-2', 'enough')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">This car is (too / enough) small to carry eight people.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-checkup-b-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-checkup-b-3', 'too')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-checkup-b-3', 'too')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-checkup-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L6 Level 1 Section -->
                <div id="L6-level1" class="section">
                    <h2>Level 1 - ë¬¸ì¥ ì™„ì„±í•˜ê¸°</h2>

                    <h3>A. so that êµ¬ë¬¸ ë³€í™˜</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">Yumi studies hard to pass the exam<br>
                            = Yumi studies hard _____ pass the exam.<br>
                            = Yumi studies hard _____ pass the exam.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-a-1" placeholder="ì²« ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-a-1', 'in order to')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-1', 'in order to')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-1" class="feedback" role="status" aria-live="polite"></div>

                        <div class="input-container">
                            <input type="text" id="L6-level1-a-1-2" placeholder="ë‘ ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswerMultiple('L6-level1-a-1-2', ['so that she can', 'so that she could'])">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-1-2', 'so that she can')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-1-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">Minsu turned on the radio to listen to the baseball game.<br>
                            = Minsu turned on the radio _____.<br>
                            = Minsu turned on the radio _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-a-2" placeholder="ì²« ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-a-2', 'in order to listen to the baseball game')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-2', 'in order to listen to the baseball game')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-2" class="feedback" role="status" aria-live="polite"></div>

                        <div class="input-container">
                            <input type="text" id="L6-level1-a-2-2" placeholder="ë‘ ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-a-2-2', 'so that he could listen to the baseball game')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-2-2', 'so that he could listen to the baseball game')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-2-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">My father went to the airport to pick up my sister.<br>
                            = My father went to the airport _____.<br>
                            = My father went to the airport _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-a-3" placeholder="ì²« ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-a-3', 'in order to pick up my sister')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-3', 'in order to pick up my sister')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-3" class="feedback" role="status" aria-live="polite"></div>

                        <div class="input-container">
                            <input type="text" id="L6-level1-a-3-2" placeholder="ë‘ ë²ˆì§¸ ë¹ˆì¹¸ ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-a-3-2', 'so that he could pick up my sister')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-a-3-2', 'so that he could pick up my sister')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-a-3-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. enough to êµ¬ë¬¸ - ì–´ìˆœ ë°°ì—´</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">She is not _____ a car. (to, old, enough, drive)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-1', 'old enough to drive')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-1', 'old enough to drive')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">The box is _____ 20 books. (enough, big, carry, to)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-2" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-2', 'big enough to carry')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-2', 'big enough to carry')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">He is _____ the bookshelf. (reach, tall, to, enough)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-3" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-3', 'tall enough to reach')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-3', 'tall enough to reach')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">Mina is _____ the math problem. (smart, to, solve, enough)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-4" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-4', 'smart enough to solve')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-4', 'smart enough to solve')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">Sumi isn't _____ the Ghost House. (enough, brave, go into, to)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-5" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-5', 'brave enough to go into')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-5', 'brave enough to go into')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">6</div>
                            <div class="question-text">Sumin is _____ the ride. (get on, tall, enough, to)</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level1-b-6" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level1-b-6', 'tall enough to get on')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level1-b-6', 'tall enough to get on')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level1-b-6" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L6 Level 2 Section -->
                <div id="L6-level2" class="section">
                    <h2>Level 2 - ë¬¸ì¥ ì‘ì„±í•˜ê¸°</h2>

                    <h3>A. so thatì„ ì´ìš©í•œ ë¬¸ì¥ ì™„ì„±</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">I turned off the radio _____.<br>
                            <small>ì„ íƒ: he can be a singer / she can stay healthy / I could concentrate on studying math / everyone can hear you / we could donate them</small></div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-a-1" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-a-1', 'so that I could concentrate on studying math')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-a-1', 'so that I could concentrate on studying math')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-a-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">We collected old clothes _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-a-2" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-a-2', 'so that we could donate them')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-a-2', 'so that we could donate them')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-a-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">He practices singing very hard _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-a-3" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-a-3', 'so that he can be a singer')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-a-3', 'so that he can be a singer')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-a-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">Yumi swims every morning _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-a-4" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-a-4', 'so that she can stay healthy')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-a-4', 'so that she can stay healthy')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-a-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">Please speak louder _____.</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-a-5" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-a-5', 'so that everyone can hear you')">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-a-5', 'so that everyone can hear you')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-a-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <h3>B. enough toë¥¼ ì‚¬ìš©í•œ ì˜ì‘</h3>
                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">1</div>
                            <div class="question-text">ê·¸ ì¥ëŠ” ê·¸ êµ¬ë©ì„ í†µê³¼í•  ë§Œí¼ ì¶©ë¶„íˆ ì‘ë‹¤. (go through the hole)<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-b-1" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-b-1', 'The mouse is small enough to go through the hole.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-b-1', 'The mouse is small enough to go through the hole.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-b-1" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">2</div>
                            <div class="question-text">ë¯¼í˜¸ì˜ ì˜ì–´ëŠ” ì™¸êµ­ì¸ê³¼ ì´ì•¼ê¸°í•  ë§Œí¼ ì¶©ë¶„íˆ ì¢‹ë‹¤. (talk with a foreigner)<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-b-2" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-b-2', 'Minho\\'s English is good enough to talk with a foreigner.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-b-2', 'Minho\\'s English is good enough to talk with a foreigner.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-b-2" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">3</div>
                            <div class="question-text">ê·¸ ê°€ë°©ì€ ë‘ ê°œì˜ ì¶•êµ¬ê³µì„ ë‹´ì„ ë§Œí¼ ì¶©ë¶„íˆ í¬ë‹¤. (carry two soccer balls)<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-b-3" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-b-3', 'The bag is big enough to carry two soccer balls.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-b-3', 'The bag is big enough to carry two soccer balls.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-b-3" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">4</div>
                            <div class="question-text">ê·¸ ì‚¬ë‹¤ë¦¬ëŠ” ì„ ë°˜ ê¼­ëŒ€ê¸°ì— ë‹¿ì„ ë§Œí¼ ê¸¸ë‹¤. (reach the top shelf)<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-b-4" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-b-4', 'The ladder is long enough to reach the top shelf.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-b-4', 'The ladder is long enough to reach the top shelf.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-b-4" class="feedback" role="status" aria-live="polite"></div>
                    </div>

                    <div class="question">
                        <div class="question-header">
                            <div class="question-number">5</div>
                            <div class="question-text">ê·¸ ì¸í˜•ì€ ì£¼ë¨¸ë‹ˆì— ë“¤ì–´ê°ˆ ì •ë„ë¡œ ì¶©ë¶„íˆ ì‘ë‹¤. (fit into the pocket)<br>
                            â†’ _____</div>
                        </div>
                        <div class="input-container">
                            <input type="text" id="L6-level2-b-5" placeholder="ì „ì²´ ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button class="check-btn" onclick="checkAnswer('L6-level2-b-5', 'The doll is small enough to fit into the pocket.', false, true)">ì •ë‹µ í™•ì¸</button>
                        <button class="show-answer-btn" onclick="showAnswer('L6-level2-b-5', 'The doll is small enough to fit into the pocket.')">ë‹µ ë³´ê¸°</button>
                        <div id="feedback-L6-level2-b-5" class="feedback" role="status" aria-live="polite"></div>
                    </div>
                </div>

                <!-- L6 Score Section -->
                <div id="L6-score" class="section">
                    <h2>Lesson 6 í•™ìŠµ ì§„í–‰ ìƒí™©</h2>
                    <div class="score-display">
                        <h3>í˜„ì¬ ì ìˆ˜</h3>
                        <div class="score">
                            <span id="L6-correct-count">0</span> / <span id="L6-total-count">0</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="L6-progress-fill"></div>
                        </div>
                        <p id="L6-score-percentage">ì •ë‹µë¥ : 0%</p>
                    </div>
                    <button class="reset-btn" onclick="resetQuiz('L6')">Lesson 6 í€´ì¦ˆ ì´ˆê¸°í™”</button>
                </div>
            </div>
        </div>

        <!-- End Screen Section -->
        <div id="end-screen" class="section">
            <h2>ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰</h2>
            <p class="message">ì˜¤ëŠ˜ í€´ì¦ˆë¥¼ ëª¨ë‘ ë§ˆì³¤ìŠµë‹ˆë‹¤.</p>
            <div class="final-score" id="final-score-display">
                <!-- Score will be inserted here -->
            </div>
            <p class="message">ì˜¤ëŠ˜ì˜ ë…¸ë ¥ì€ ë¶„ëª… ë‚´ì¼ì˜ ì‹¤ë ¥ìœ¼ë¡œ ë‚¨ì„ ê±°ì˜ˆìš”!</p>
            <div class="end-sparkles" aria-hidden="true"></div>
            <div style="margin-top: 30px;">
                <button type="button" onclick="goToFirst()" class="ghost">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables for tracking
        let currentLesson = null;
        let lessonData = {
            L5: {
                correctAnswers: 0,
                totalAnswered: 0,
                answeredQuestions: new Set()
            },
            L6: {
                correctAnswers: 0,
                totalAnswered: 0,
                answeredQuestions: new Set()
            }
        };
        let soundOn = true;

        // Sound effects using Web Audio API
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        function playConfirmationSound() {
            if (!soundOn) return;

            const now = audioContext.currentTime;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            // Create a questioning tone
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(440, now); // A4
            oscillator.frequency.setValueAtTime(520, now + 0.1); // C5
            oscillator.frequency.setValueAtTime(440, now + 0.2); // Back to A4

            gainNode.gain.setValueAtTime(0.2, now);
            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.3);

            oscillator.start(now);
            oscillator.stop(now + 0.3);
        }

        function playCorrectSound() {
            if (!soundOn) return;

            const now = audioContext.currentTime;

            // First chord - C5 and E5
            const oscillator1 = audioContext.createOscillator();
            const oscillator2 = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator1.connect(gainNode);
            oscillator2.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator1.frequency.setValueAtTime(523.25, now); // C5
            oscillator2.frequency.setValueAtTime(659.25, now); // E5

            gainNode.gain.setValueAtTime(0.3, now);
            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.5);

            oscillator1.start(now);
            oscillator2.start(now);
            oscillator1.stop(now + 0.5);
            oscillator2.stop(now + 0.5);

            // Second note - G5 (delayed)
            setTimeout(() => {
                const osc3 = audioContext.createOscillator();
                const gain2 = audioContext.createGain();

                osc3.connect(gain2);
                gain2.connect(audioContext.destination);

                osc3.frequency.setValueAtTime(783.99, audioContext.currentTime); // G5
                gain2.gain.setValueAtTime(0.2, audioContext.currentTime);
                gain2.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);

                osc3.start(audioContext.currentTime);
                osc3.stop(audioContext.currentTime + 0.3);
            }, 100);
        }

        function playIncorrectSound() {
            if (!soundOn) return;

            const now = audioContext.currentTime;

            // First buzz sound
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(150, now);
            oscillator.frequency.exponentialRampToValueAtTime(100, now + 0.2);

            gainNode.gain.setValueAtTime(0.2, now);
            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.2);

            oscillator.start(now);
            oscillator.stop(now + 0.2);

            // Second lower tone
            setTimeout(() => {
                const osc2 = audioContext.createOscillator();
                const gain2 = audioContext.createGain();

                osc2.connect(gain2);
                gain2.connect(audioContext.destination);

                osc2.type = 'sine';
                osc2.frequency.setValueAtTime(80, audioContext.currentTime);

                gain2.gain.setValueAtTime(0.15, audioContext.currentTime);
                gain2.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.15);

                osc2.start(audioContext.currentTime);
                osc2.stop(audioContext.currentTime + 0.15);
            }, 50);
        }

        function playPageTurnSound() {
            if (!soundOn) return;

            const now = audioContext.currentTime;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            // Create a swoosh sound for page turning
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(200, now);
            oscillator.frequency.exponentialRampToValueAtTime(600, now + 0.1);
            oscillator.frequency.exponentialRampToValueAtTime(100, now + 0.2);

            gainNode.gain.setValueAtTime(0, now);
            gainNode.gain.linearRampToValueAtTime(0.15, now + 0.05);
            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.2);

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.start(now);
            oscillator.stop(now + 0.2);
        }

        function playHintSound() {
            if (!soundOn) return;

            const now = audioContext.currentTime;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const filter = audioContext.createBiquadFilter();

            oscillator.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.type = 'sine';
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(1000, now);
            filter.frequency.exponentialRampToValueAtTime(200, now + 0.3);

            oscillator.frequency.setValueAtTime(400, now);
            oscillator.frequency.exponentialRampToValueAtTime(200, now + 0.3);

            gainNode.gain.setValueAtTime(0.1, now);
            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.3);

            oscillator.start(now);
            oscillator.stop(now + 0.3);
        }

        // Initialize audio context on first user interaction
        let audioInitialized = false;
        function initAudio() {
            if (!audioInitialized && audioContext.state === 'suspended') {
                audioContext.resume();
                audioInitialized = true;
            }
        }

        // Sound toggle function
        function toggleSound() {
            soundOn = !soundOn;
            localStorage.setItem('quiz.soundOn', soundOn ? '1' : '0');
            updateSoundButton();
        }

        function updateSoundButton() {
            const btn = document.getElementById('soundToggle');
            if (btn) {
                btn.textContent = soundOn ? 'ğŸ”Š ì‚¬ìš´ë“œ: ì¼œì§' : 'ğŸ”‡ ì‚¬ìš´ë“œ: êº¼ì§';
            }
        }

        // Initialize sound setting
        function initSound() {
            const saved = localStorage.getItem('quiz.soundOn');
            soundOn = saved === null ? true : saved === '1';
            updateSoundButton();
        }

        // Lesson selector functions
        function selectLesson(lesson) {
            initAudio();

            // Update current lesson
            currentLesson = lesson === 'lesson5' ? 'L5' : 'L6';

            // Update header title and subtitle
            const lessonNumber = currentLesson === 'L5' ? '5' : '6';
            const lessonGrammar = currentLesson === 'L5' ?
                'ê°€ì •ë²• ê³¼ê±° & ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬' :
                'ëª©ì ì„ ë‚˜íƒ€ë‚´ëŠ” so that & enough to ë¶€ì •ì‚¬';

            document.getElementById('headerTitle').textContent = `Lesson ${lessonNumber} Grammar Quiz`;
            document.getElementById('headerSubtitle').textContent = lessonGrammar;

            // Show exit button
            document.getElementById('exitBtn').classList.add('show');

            // Hide lesson selector
            document.getElementById('lessonSelector').style.display = 'none';

            // Hide all lesson contents
            document.querySelectorAll('.lesson-content').forEach(content => {
                content.classList.remove('active');
            });

            // Show selected lesson content
            const lessonContent = document.getElementById(`${lesson}Content`);
            lessonContent.classList.add('active');

            // Update lesson buttons
            document.querySelectorAll('.lesson-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.lesson-btn').classList.add('active');

            // Reset section display for selected lesson
            const prefix = currentLesson;
            showSection(null, `${prefix}-grammar`);

            // Update navigation buttons
            const navBtns = lessonContent.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            if (navBtns[0]) navBtns[0].classList.add('active');

            playPageTurnSound();
        }

        function showSection(btn, sectionId) {
            initAudio();

            // Get current lesson prefix
            const prefix = sectionId.split('-')[0];

            // Hide all sections within the current lesson
            document.querySelectorAll(`#${prefix === 'L5' ? 'lesson5' : 'lesson6'}Content .section`).forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Update nav buttons within the current lesson
            if (btn) {
                const navContainer = btn.parentElement;
                navContainer.querySelectorAll('.nav-btn').forEach(navBtn => {
                    navBtn.classList.remove('active');
                });
                btn.classList.add('active');
            }
        }

        function normalizeAnswer(answer) {
            return (answer || '')
                .replace(/'/g, "'")
                .replace(/[.,;:!?]+/g, ' ')
                .replace(/\s+/g, ' ')
                .trim()
                .toLowerCase();
        }

        function checkAnswer(inputId, correctAnswer, allowPartial = false, isFullSentence = false) {
            const input = document.getElementById(inputId);
            const userAnswer = normalizeAnswer(input.value);
            const normalized = normalizeAnswer(correctAnswer);
            const feedback = document.getElementById(`feedback-${inputId}`);

            // Determine which lesson this belongs to
            const lesson = inputId.startsWith('L5') ? 'L5' : 'L6';
            const data = lessonData[lesson];

            const wasAnswered = data.answeredQuestions.has(inputId);

            let isCorrect = false;

            if (allowPartial) {
                const userParts = userAnswer.split(' ').filter(s => s.length > 0);
                const correctParts = normalized.split(' ').filter(s => s.length > 0);
                isCorrect = userParts.length === correctParts.length &&
                           userParts.every((part, i) => part === correctParts[i]);
            } else {
                isCorrect = userAnswer === normalized;
            }

            if (isCorrect) {
                input.classList.remove('incorrect');
                input.classList.add('correct');
                feedback.className = 'feedback correct';
                feedback.innerHTML = 'âœ… ì •ë‹µì…ë‹ˆë‹¤! í›Œë¥­í•´ìš”!';
                feedback.style.display = 'block';
                playCorrectSound();

                if (!wasAnswered) {
                    data.correctAnswers++;
                    data.totalAnswered++;
                    data.answeredQuestions.add(inputId);
                    updateScore(lesson);
                }
            } else {
                input.classList.remove('correct');
                input.classList.add('incorrect');
                feedback.className = 'feedback incorrect';
                playIncorrectSound();

                let errorMessage = 'âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ';

                // Add specific error messages based on question type
                if (inputId.includes('checkup-a')) {
                    if (lesson === 'L5') {
                        errorMessage += 'ê°€ì •ë²• ê³¼ê±°ì—ì„œëŠ” ë™ì‚¬ì˜ ê³¼ê±°í˜•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. beë™ì‚¬ëŠ” ì£¼ì–´ì™€ ê´€ê³„ì—†ì´ "were"ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
                    } else {
                        errorMessage += 'so that êµ¬ë¬¸ì˜ ì˜ë¯¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”. "~í•˜ê¸° ìœ„í•´ì„œ"ë¼ëŠ” ëª©ì ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.';
                    }
                } else if (inputId.includes('checkup-b')) {
                    if (lesson === 'L5') {
                        errorMessage += 'ì˜ë¬¸ì‚¬ + to + ë™ì‚¬ì›í˜• í˜•íƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.';
                    } else {
                        errorMessage += 'enoughëŠ” í˜•ìš©ì‚¬ ë’¤ì— ì˜µë‹ˆë‹¤. tooëŠ” "ë„ˆë¬´ ~í•´ì„œ í•  ìˆ˜ ì—†ë‹¤"ëŠ” ë¶€ì •ì  ì˜ë¯¸ì…ë‹ˆë‹¤.';
                    }
                } else if (inputId.includes('level1')) {
                    if (lesson === 'L5') {
                        errorMessage += inputId.includes('level1-a') ?
                            'ê°€ì •ë²• ê³¼ê±° êµ¬ì¡°ë¥¼ í™•ì¸í•˜ì„¸ìš”: If + ì£¼ì–´ + ê³¼ê±°í˜•, ì£¼ì–´ + would/could + ë™ì‚¬ì›í˜•' :
                            'ì˜ë¬¸ì‚¬ + to + ë™ì‚¬ì›í˜• í˜•íƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.';
                    } else {
                        errorMessage += inputId.includes('level1-a') ?
                            'so that êµ¬ë¬¸ê³¼ in order to êµ¬ë¬¸ì˜ ë³€í™˜ì„ í™•ì¸í•˜ì„¸ìš”.' :
                            'enough to êµ¬ë¬¸ì˜ ì–´ìˆœ: í˜•ìš©ì‚¬ + enough + to + ë™ì‚¬ì›í˜•';
                    }
                } else if (inputId.includes('level2')) {
                    if (lesson === 'L5') {
                        errorMessage += inputId.includes('level2-a') ?
                            'ê°€ì •ë²• ê³¼ê±° ë¬¸ì¥ êµ¬ì¡°ì™€ ë™ì‚¬ í˜•íƒœë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.' :
                            'ì˜ë¬¸ì‚¬ì ˆì„ ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬ë¡œ ì¶•ì•½í•˜ëŠ” ë°©ë²•ì„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.';
                    } else {
                        errorMessage += inputId.includes('level2-a') ?
                            'ë¬¸ë§¥ì— ë§ëŠ” ëª©ì ì ˆì„ ì„ íƒí•˜ì„¸ìš”.' :
                            'enough to êµ¬ë¬¸ì„ ì‚¬ìš©í•œ ì˜ì‘ì„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.';
                    }
                }

                feedback.innerHTML = errorMessage;
                feedback.style.display = 'block';

                if (!wasAnswered) {
                    data.totalAnswered++;
                    data.answeredQuestions.add(inputId);
                    updateScore(lesson);
                }
            }
        }

        function checkAnswerMultiple(inputId, choices, isFullSentence = false) {
            const input = document.getElementById(inputId);
            const userAnswer = normalizeAnswer(input.value);
            const feedback = document.getElementById(`feedback-${inputId}`);

            // Determine which lesson this belongs to
            const lesson = inputId.startsWith('L5') ? 'L5' : 'L6';
            const data = lessonData[lesson];

            const wasAnswered = data.answeredQuestions.has(inputId);

            let isCorrect = choices.some(answer => {
                const normalizedChoice = normalizeAnswer(answer);
                return userAnswer === normalizedChoice;
            });

            if (isCorrect) {
                input.classList.remove('incorrect');
                input.classList.add('correct');
                feedback.className = 'feedback correct';
                feedback.innerHTML = 'âœ… ì •ë‹µì…ë‹ˆë‹¤! í›Œë¥­í•´ìš”!';
                feedback.style.display = 'block';
                playCorrectSound();

                if (!wasAnswered) {
                    data.correctAnswers++;
                    data.totalAnswered++;
                    data.answeredQuestions.add(inputId);
                    updateScore(lesson);
                }
            } else {
                input.classList.remove('correct');
                input.classList.add('incorrect');
                feedback.className = 'feedback incorrect';

                let errorMessage = 'âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ';
                if (lesson === 'L5') {
                    if (inputId.includes('level2-a')) {
                        errorMessage += 'ê°€ì •ë²• ê³¼ê±° ë¬¸ì¥ êµ¬ì¡°ì™€ ë™ì‚¬ í˜•íƒœë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.';
                    } else {
                        errorMessage += 'ì˜ë¬¸ì‚¬+toë¶€ì •ì‚¬ ë˜ëŠ” ì˜ë¬¸ì‚¬+ì£¼ì–´+should+ë™ì‚¬ì›í˜• í˜•íƒœë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
                    }
                } else {
                    if (inputId.includes('checkup-a')) {
                        errorMessage += 'so that êµ¬ë¬¸ì˜ ì˜ë¯¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.';
                    } else {
                        errorMessage += 'ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ë³´ì„¸ìš”.';
                    }
                }

                feedback.innerHTML = errorMessage;
                feedback.style.display = 'block';
                playIncorrectSound();

                if (!wasAnswered) {
                    data.totalAnswered++;
                    data.answeredQuestions.add(inputId);
                    updateScore(lesson);
                }
            }
        }

        function showAnswer(inputId, answer) {
            const feedback = document.getElementById(`feedback-${inputId}`);
            feedback.className = 'feedback hint';
            feedback.innerHTML = `ğŸ’¡ ì •ë‹µ: ${answer}`;
            feedback.style.display = 'block';
            playHintSound();
        }

        function updateScore(lesson) {
            const data = lessonData[lesson];
            document.getElementById(`${lesson}-correct-count`).textContent = data.correctAnswers;
            document.getElementById(`${lesson}-total-count`).textContent = data.totalAnswered;

            const percentage = data.totalAnswered > 0 ? Math.round((data.correctAnswers / data.totalAnswered) * 100) : 0;
            document.getElementById(`${lesson}-score-percentage`).textContent = `ì •ë‹µë¥ : ${percentage}%`;
            document.getElementById(`${lesson}-progress-fill`).style.width = `${percentage}%`;
        }

        function resetQuiz(lesson) {
            if (!confirm(`ì •ë§ë¡œ Lesson ${lesson === 'L5' ? '5' : '6'} í€´ì¦ˆë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ë‹µì•ˆê³¼ ì ìˆ˜ê°€ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.`)) {
                return;
            }

            // Reset all inputs for the specific lesson
            document.querySelectorAll(`#${lesson === 'L5' ? 'lesson5' : 'lesson6'}Content input[type="text"]`).forEach(input => {
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            });

            // Hide all feedback for the specific lesson
            document.querySelectorAll(`#${lesson === 'L5' ? 'lesson5' : 'lesson6'}Content .feedback`).forEach(feedback => {
                feedback.style.display = 'none';
            });

            // Reset scores for the specific lesson
            lessonData[lesson].correctAnswers = 0;
            lessonData[lesson].totalAnswered = 0;
            lessonData[lesson].answeredQuestions.clear();
            updateScore(lesson);

            // Go back to grammar section
            showSection(null, `${lesson}-grammar`);
            const navBtns = document.querySelectorAll(`#${lesson === 'L5' ? 'lesson5' : 'lesson6'}Content .nav-btn`);
            navBtns.forEach(btn => btn.classList.remove('active'));
            if (navBtns[0]) navBtns[0].classList.add('active');
        }

        function showEndScreen() {
            // Calculate total scores from both lessons
            const totalCorrect = lessonData.L5.correctAnswers + lessonData.L6.correctAnswers;
            const totalAnswered = lessonData.L5.totalAnswered + lessonData.L6.totalAnswered;
            const percentage = totalAnswered > 0 ? Math.round((totalCorrect / totalAnswered) * 100) : 0;

            // Update final score display
            const finalScoreDisplay = document.getElementById('final-score-display');
            finalScoreDisplay.innerHTML = `
                Lesson 5: ${lessonData.L5.correctAnswers} / ${lessonData.L5.totalAnswered}<br>
                Lesson 6: ${lessonData.L6.correctAnswers} / ${lessonData.L6.totalAnswered}<br>
                <br>
                ì „ì²´ ì ìˆ˜: ${totalCorrect} / ${totalAnswered}<br>
                ì •ë‹µë¥ : ${percentage}%
            `;

            // Hide all lesson content
            document.querySelectorAll('.lesson-content').forEach(content => {
                content.classList.remove('active');
            });

            // Show lesson selector
            document.getElementById('lessonSelector').style.display = 'block';

            // Show end screen
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('end-screen').classList.add('active');

            // Build sparkles animation
            buildSparkles();

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function buildSparkles() {
            const wrap = document.querySelector('#end-screen .end-sparkles');
            if (!wrap) return;
            wrap.innerHTML = '';
            for (let i = 0; i < 36; i++) {
                const dot = document.createElement('i');
                dot.style.left = (Math.random() * 100) + '%';
                dot.style.bottom = '0px';
                dot.style.color = ['#1a73e8', '#34a853', '#fbbc05', '#ea4335', '#7e57c2', '#00acc1'][i % 6];
                dot.style.animationDelay = (Math.random() * 800) + 'ms';
                dot.style.animationDuration = (1200 + Math.random() * 1200) + 'ms';
                wrap.appendChild(dot);
            }
        }

        function goToFirst() {
            returnToLessonSelector();
        }

        function returnToLessonSelector() {
            // Reset header
            document.getElementById('headerTitle').textContent = 'Grammar Quiz';
            document.getElementById('headerSubtitle').textContent = 'Lesson 5 & Lesson 6';

            // Hide exit button
            document.getElementById('exitBtn').classList.remove('show');

            // Show lesson selector
            document.getElementById('lessonSelector').style.display = 'block';

            // Hide all lesson contents
            document.querySelectorAll('.lesson-content').forEach(content => {
                content.classList.remove('active');
            });

            // Hide end screen
            document.getElementById('end-screen').classList.remove('active');

            // Reset lesson buttons
            document.querySelectorAll('.lesson-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Reset current lesson
            currentLesson = null;

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Exit confirmation functions
        function showExitConfirmation() {
            initAudio();
            playConfirmationSound();
            document.getElementById('confirmationOverlay').classList.add('show');
        }

        function confirmExit() {
            document.getElementById('confirmationOverlay').classList.remove('show');
            playPageTurnSound();

            // Reset quiz data for current lesson
            if (currentLesson) {
                // Clear inputs
                document.querySelectorAll(`#${currentLesson === 'L5' ? 'lesson5' : 'lesson6'}Content input[type="text"]`).forEach(input => {
                    input.value = '';
                    input.classList.remove('correct', 'incorrect');
                });

                // Hide feedback
                document.querySelectorAll(`#${currentLesson === 'L5' ? 'lesson5' : 'lesson6'}Content .feedback`).forEach(feedback => {
                    feedback.style.display = 'none';
                });

                // Reset scores
                lessonData[currentLesson].correctAnswers = 0;
                lessonData[currentLesson].totalAnswered = 0;
                lessonData[currentLesson].answeredQuestions.clear();
                updateScore(currentLesson);
            }

            returnToLessonSelector();
        }

        function cancelExit() {
            document.getElementById('confirmationOverlay').classList.remove('show');
            playPageTurnSound();
        }

        // Navigation functions
        function navigateToIndex(lesson, idx) {
            const sections = ['grammar', 'checkup', 'level1', 'level2', 'score'];
            if (idx < 0) idx = 0;
            if (idx >= sections.length) idx = sections.length - 1;

            const targetSectionId = `${lesson}-${sections[idx]}`;
            showSection(null, targetSectionId);

            // Update nav buttons
            const lessonContent = document.getElementById(`${lesson === 'L5' ? 'lesson5' : 'lesson6'}Content`);
            const navBtns = lessonContent.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            if (navBtns[idx]) navBtns[idx].classList.add('active');

            playPageTurnSound();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Add navigation controls to sections
        function addNavigationControls() {
            const lessons = ['L5', 'L6'];
            const sections = ['grammar', 'checkup', 'level1', 'level2', 'score'];

            lessons.forEach(lesson => {
                sections.forEach((sectionName, idx) => {
                    const sectionId = `${lesson}-${sectionName}`;
                    const section = document.getElementById(sectionId);
                    if (!section) return;

                    // Check if navigation already exists
                    if (section.querySelector('.section-nav')) return;

                    const bar = document.createElement('div');
                    bar.className = 'section-nav';

                    if (idx > 0) {
                        const prev = document.createElement('button');
                        prev.className = 'ghost';
                        prev.type = 'button';
                        prev.textContent = 'â† ì´ì „ìœ¼ë¡œ';
                        prev.addEventListener('click', () => navigateToIndex(lesson, idx - 1));
                        bar.appendChild(prev);
                    }

                    if (idx < sections.length - 1) {
                        const next = document.createElement('button');
                        next.className = 'primary';
                        next.type = 'button';
                        next.textContent = 'ë‹¤ìŒìœ¼ë¡œ â†’';
                        next.addEventListener('click', () => navigateToIndex(lesson, idx + 1));
                        bar.appendChild(next);
                    } else if (idx === sections.length - 1) {
                        // Last section (score) - add finish button
                        const end = document.createElement('button');
                        end.className = 'primary';
                        end.type = 'button';
                        end.textContent = 'ì¢…ë£Œ';
                        end.addEventListener('click', () => {
                            playPageTurnSound();
                            showEndScreen();
                        });
                        bar.appendChild(end);
                    }

                    section.appendChild(bar);
                });
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize sound setting
            initSound();

            // Initialize audio on first interaction
            document.addEventListener('click', initAudio, { once: true });
            document.addEventListener('keydown', initAudio, { once: true });

            // Add navigation controls
            addNavigationControls();

            // Add enter key support
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const checkBtn = this.parentElement.nextElementSibling;
                        if (checkBtn && checkBtn.classList.contains('check-btn')) {
                            checkBtn.click();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
